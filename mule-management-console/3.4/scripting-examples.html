<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="">
  <link rel="canonical" href="https://ede65566-docs-migration.github.io/docs-site/mule-management-console/3.8/scripting-examples.html">
  <link rel="stylesheet" href="../../_theme/stylesheets/theme.css">
  <title>Scripting Examples // MuleSoft Documentation</title>
</head>
<body class="article">
<header class="header" id="header" role="banner"><div class="header__wrapper clearfix">
      <div class="header__logo--primary-nav clearfix">
        <a href="https://docs.mulesoft.com" title="Home" rel="home" class="header__logo" id="logo">
          <img src="../../_theme/images/mulesoft-dev-logo.svg" alt="Home" class="header__logo-image"></a>
          <div class="header__region region region-header">
    <div id="block-system-main-menu" class="block block-menu first last odd" role="navigation">

        <h2 class="block__title block-title">Main Dev Menu</h2>
    
  <ul class="menu"><li class="menu__item is-expanded first expanded"><span class="menu__link">Platform</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/dev/anypoint-studio" title="" class="menu__link">Studio</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/connectors" title="" class="menu__link">Connectors</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/anypoint-exchange" title="" class="menu__link">Exchange</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/design-api" title="" class="menu__link">API Designer</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-developer-portal" title="" class="menu__link">API Portal</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/mule-runtime-engine" title="" class="menu__link">Mule runtime engine</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-management" title="" class="menu__link">API Manager</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/dev/reporting-api-analytics" title="" class="menu__link">API Analytics</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><span class="menu__link">Resources</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/getting-started/anypoint-platform" class="menu__link">Getting started</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/tutorials-and-howtos" class="menu__link">Tutorials &amp; HowTos</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/webinars-and-videos" title="" class="menu__link">Webinars &amp; Videos</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/workshops" class="menu__link">Online Workshops</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/integration-books-and-resources" class="menu__link">Books &amp; Whitepapers</a></li>
<li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/dev/" class="menu__link">Blog</a></li>
<li class="menu__item is-leaf leaf"><a href="https://docs.mulesoft.com" class="menu__link">Documentation</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://training.mulesoft.com" class="menu__link">Training</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><a href="https://developer.mulesoft.com/community" class="menu__link">Community</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="http://forum.mulesoft.org/" class="menu__link">Forums</a></li>
<li class="menu__item is-leaf leaf"><a href="https://meetups.mulesoft.com" class="menu__link">Meetups</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/" class="menu__link">Contributed Content</a></li>
<li class="menu__item is-leaf leaf"><a href="https://s2.developer.mulesoft.com/jobs.html" class="menu__link">Jobs</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://www.mulesoft.org/jira/browse/MULE" class="menu__link">Issue tracker</a></li>
</ul></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/champions" class="menu__link">Champions</a></li>
</ul></div>
  </div>
      </div> <!-- header__logo--primary-nav -->
      <div class="header__top-wrapper">
        <div class="header__nav-wrapper">
                      <div class="region region-header-top">
    <div id="block-search-form" class="block block-search first last odd" role="search">

      
  
</div>
  </div>
        </div>
        <div class="top-nav-ctas">
          <a class="icon-muletheme-phone" href="https://mulesoft.com/lp/contact" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-contact');"></a>
          <a href="https://anypoint.mulesoft.com/login/#/signup?apintent=dmc_generic" class="try" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-nav');">Try now</a>
          <a href="https://mulesoft.com/" class="dev" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-mscom');">MuleSoft.com</a>
        </div>
      </div> <!-- header__secondary-nav-search -->
    </div> <!-- header__wrapper -->
    <a href="#sidr" id="open-left" class="closed">
    </a>
  </header><main role="main" class="main-wrapper">
  <div class="navigation-wrapper">
    <nav role="navigation" class="navigation">
      <div class="search">
        <input type="text" placeholder="Search the docs" class="search-input" autocomplete="off" autocorrect="off" autocapitalize="off">
      </div>
      <div class="inner-nav">
          <ul class="nav-lst">
              <li class="nav-itm" data-depth="0" data-state="collapsed">
                  <button class="nav-tgl"></button>
                <a class="nav-lnk" href="index.html">Mule Management Console</a>
                  <ul class="nav-lst">
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="installing-the-trial-version-of-mmc.html">Installing the Trial Version of MMC</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="installing-the-production-version-of-mmc.html">Installing the Production Version of MMC</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="upgrading-the-management-console.html">Upgrading the Management Console</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="installing-or-upgrading-mule-management-console-3.4.2.html">Installing or Upgrading Mule Management Console 3.4.2</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="upgrading-to-mmc-3.4.2-with-an-external-database.html">Upgrading to MMC 3.4.2 with an External Database</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="upgrading-to-mmc-3.4.2-with-ldap.html">Upgrading to MMC 3.4.2 with LDAP</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="upgrading-from-mmc-3.4.1-for-ms-sql-server-to-mmc-3.4.2-for-ms-sql-server.html">Upgrading from MMC 3.4.1 for MS-SQL Server to MMC 3.4.2 for MS-SQL Server</a>
                                      </li>
                                  </ul>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="orientation-to-the-console.html">Orientation to the Console</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="mmc-walkthrough.html">MMC Walkthrough</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="setting-up-mmc.html">Setting Up MMC</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="setting-up-mmc-mule-esb-communications.html">Setting Up MMC-Mule ESB Communications</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="persisting-mmc-data-on-external-databases.html">Persisting MMC Data On External Databases</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-data-to-oracle.html">Persisting MMC Data to Oracle</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-data-to-postgresql.html">Persisting MMC Data to PostgreSQL</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-data-to-mysql.html">Persisting MMC Data to MySQL</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-data-to-ms-sql-server.html">Persisting MMC Data to MS SQL Server</a>
                                      </li>
                                  </ul>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="persisting-mmc-data-on-external-databases-in-mmc-3.4.2.html">Persisting MMC Data On External Databases in MMC 3.4.2</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="configuring-mmc-3.4.2-for-external-databases-quick-reference.html">Configuring MMC 3.4.2 for External Databases - Quick Reference</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-3.4.2-data-to-postgresql.html">Persisting MMC 3.4.2 Data to PostgreSQL</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-3.4.2-data-to-mysql.html">Persisting MMC 3.4.2 Data to MySQL</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-3.4.2-data-to-oracle.html">Persisting MMC 3.4.2 Data to Oracle</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="persisting-mmc-3.4.2-data-to-ms-sql-server.html">Persisting MMC 3.4.2 Data to MS SQL Server</a>
                                      </li>
                                  </ul>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="encrypting-the-mmc-tracking-database-password.html">Encrypting the MMC Tracking Database Password</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="encrypting-ldap-and-database-passwords-in-mmc-3.4.2.html">Encrypting LDAP and Database Passwords in MMC 3.4.2</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="managing-mmc-users-and-roles.html">Managing MMC Users and Roles</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                          <button class="nav-tgl"></button>
                                        <a class="nav-lnk" href="setting-up-and-managing-users-in-mmc.html">Setting Up and Managing Users in MMC</a>
                                          <ul class="nav-lst">
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="encrypting-mmc-user-passwords.html">Encrypting MMC User Passwords</a>
                                              </li>
                                          </ul>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                          <button class="nav-tgl"></button>
                                        <a class="nav-lnk" href="setting-up-and-managing-users-via-ldap.html">Setting Up and Managing Users via LDAP</a>
                                          <ul class="nav-lst">
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="encrypting-the-mmc-ldap-password.html">Encrypting the MMC LDAP Password</a>
                                              </li>
                                          </ul>
                                      </li>
                                  </ul>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="architecture-of-the-mule-management-console.html">Architecture of the Mule Management Console</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="managing-mule-servers-clusters-and-groups.html">Managing Mule Servers Clusters and Groups</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="deploying-applications.html">Deploying Applications</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="monitoring-a-server.html">Monitoring a Server</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="monitoring-applications.html">Monitoring Applications</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-server-alerts.html">Viewing Server Alerts</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-system-memory.html">Viewing System Memory</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-threads.html">Viewing Threads</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-server-pools.html">Viewing Server Pools</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="working-with-the-server-configuration-files.html">Working with the Server Configuration Files</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-server-properties.html">Viewing Server Properties</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-server-os-resources.html">Viewing Server OS Resources</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="viewing-jmx-information.html">Viewing JMX Information</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="editing-server-settings.html">Editing Server Settings</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="customizing-server-metrics-dashboard.html">Customizing Server Metrics Dashboard</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="troubleshooting-tips.html">Troubleshooting Tips</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="monitoring-and-debugging-applications.html">Monitoring and Debugging Applications</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="tracking-flows.html">Tracking Flows</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="analyzing-message-flows.html">Analyzing Message Flows</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="debugging-message-processing.html">Debugging Message Processing</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="debugging-the-loan-broker-example-application.html">Debugging the Loan Broker Example Application</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="adding-and-managing-alerts-and-slas.html">Adding and Managing Alerts and SLAs</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="defining-slas-and-alerts.html">Defining SLAs and Alerts</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="setting-up-alert-destinations-and-notifications.html">Setting Up Alert Destinations and Notifications</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="analyzing-business-events.html">Analyzing Business Events</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="tracking-and-querying-business-events.html">Tracking and Querying Business Events</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="business-events-use-cases.html">Business Events Use Cases</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="managing-mule-high-availability-ha-clusters.html">Managing Mule High Availability (HA) Clusters</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="configuring-mule-ha-clustering.html">Configuring Mule HA Clustering</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="creating-or-disbanding-a-cluster.html">Creating or Disbanding a Cluster</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="deploying-redeploying-or-undeploying-an-application-to-or-from-a-cluster.html">Deploying, Redeploying, or Undeploying an Application To or From a Cluster</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="dynamically-adding-or-removing-nodes-in-a-cluster.html">Dynamically Adding or Removing Nodes in a Cluster</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="monitoring-a-cluster.html">Monitoring a Cluster</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="working-with-logs.html">Working with Logs</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="accessing-server-logs.html">Accessing Server Logs</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="audit-logs.html">Audit Logs</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="automating-tasks-using-scripts.html">Automating Tasks Using Scripts</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="scripting-examples.html">Scripting Examples</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="customizing-the-dashboard.html">Customizing the Dashboard</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="using-the-management-console-for-performance-tuning.html">Using the Management Console for Performance Tuning</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="working-with-alerts.html">Working With Alerts</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="working-with-flows.html">Working with Flows</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="maintaining-the-server-application-repository.html">Maintaining the Server Application Repository</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="analyzing-flow-processing-and-payloads.html">Analyzing Flow Processing and Payloads</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="using-the-management-console-api.html">Using the Management Console API</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="rest-api-reference.html">REST API Reference</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="clusters.html">Clusters</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="deployments.html">Deployments</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="repository-of-applications.html">Repository of Applications</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="server-groups.html">Server Groups</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="servers.html">Servers</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="user-groups.html">User Groups</a>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
          </ul>
      </div>
    </nav>
  </div>
  <article class="primary-content">
    <header class="article-header">
      <div class="breadcrumb">
        <strong class="breadcrumb-item">[ Domain Selector Placeholder ]</strong> /
        <span class="breadcrumb-item">Scripting Examples</span>
      </div>
      <div class="edit-on-github">
        <a href="https://github.com/ede65566-docs-migration/mule-management-console-docs/edit/v3.4/modules/ROOT/content/scripting-examples.adoc" class="edit-on-github-link">Edit on Github</a>
      </div>
    </header>
    <h1>Scripting Examples</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#when-to-use-scripts">When to Use Scripts</a></p>
</li>
<li>
<p><a href="#alerting-examples">Alerting Examples</a></p>
</li>
<li>
<p><a href="#example-email-alerts">Example Email Alerts</a></p>
</li>
<li>
<p><a href="#inserting-expressions-in-email-subject-or-body">Inserting Expressions in Email Subject or Body</a></p>
</li>
<li>
<p><a href="#script-to-perform-snmp-escalation-for-an-alert">Script to Perform SNMP Escalation for an Alert</a></p>
</li>
<li>
<p><a href="#script-to-implement-a-custom-action">Script to Implement a Custom Action</a></p>
</li>
<li>
<p><a href="#script-to-restart-a-server">Script to Restart a Server</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This page provides examples of using <a href="automating-tasks-using-scripts.html">scripts</a>. You can copy and modify these example scripts for your own use. The scripts include placeholders where you must substitute your own values or parameters.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="when-to-use-scripts"><a class="anchor" href="#when-to-use-scripts"></a>When to Use Scripts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Scripts are useful for tasks you want to automate. Often, you need to perform tasks across several, or even many, Mule servers. You may also need to do these tasks on a regular basis, such as daily or weekly. While you can perform them manually, it makes sense to consider writing a script to take care of this work.</p>
</div>
<div class="paragraph">
<p>There are several good uses for scripts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Customize an alert escalation action. When the console detects an alert, you can customize the escalation action that is performed. For example, you might want to send an email to one or more users, log a message about the alert condition, or perform an SNMP escalation. See the examples section below for sample scripts to perform SNMP escalation and to send email.</p>
</li>
<li>
<p>Download log files from multiple Mule servers.</p>
</li>
<li>
<p>Change some Mule server configuration property values. You might want to change certain configuration properties that can be set via bulk actions.</p>
</li>
<li>
<p>Monitor certain server actions, whether alerts or other actions, and send regularly scheduled reports or email notifications.</p>
</li>
<li>
<p>Restart a server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To help with scripts, the console provides a set of helper utility classes. These helper classes are specifically designed to make it easy for you to send email to a user, send email to a user group listed in the console, and trigger SNMP escalations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alerting-examples"><a class="anchor" href="#alerting-examples"></a>Alerting Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The console includes a set of classes to help you take actions when alerts are raised within the console. Out of the box there is support for sending emails or SNMP traps when an alert occurs. You can also build your own custom actions.</p>
</div>
<div class="paragraph">
<p>If you choose to build a custom action, you can configure the action using the <code>AlertActionBuilder</code> class. This class allows you to listen for alerts for particular servers, filter the alerts, and then take some specific action.</p>
</div>
<div class="paragraph">
<p>The basic format for any custom action is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specify a name for your alert action.</p>
</li>
<li>
<p>Specify the servers to which the action applies.</p>
</li>
<li>
<p>Optionally, specify a filter.</p>
</li>
<li>
<p>Specify an action to take.</p>
</li>
<li>
<p>Install the action.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following is the code for the <code>AlertActionBuilder</code> class:</p>
</div>
<div class="paragraph">
<p>The <code>AlertActionBuilder</code> methods that are invoked are as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.console.alert.builder.AlertActionBuilder;
new AlertActionBuilder()
    .name("EmailAction")
    .servers("test")
    .filter(...)
    .doAction(...)
    .install(applicationContext);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name()</code>: The name for your alert action (required). When the <code>install</code> method is called, it uses this name to determine if there is a previously installed action with the same name. If it finds a matching action, then the <code>install</code> method uninstalls the previously installed action and then installs this new action.</p>
</li>
<li>
<p><code>servers()</code>: An optional list of server names. If specified, actions are only taken for the specified servers.</p>
</li>
<li>
<p><code>filter()</code>: An <a href="http://www.mulesoft.com/mmc/javadocs/2.2.5/com/mulesoft/mmc/alert/builder/AlertFilter.html">AlertFilter</a> that filters out some alerts (based on the filter condition) before taking an action</p>
</li>
<li>
<p><code>doAction()</code>: An <a href="http://www.mulesoft.com/mmc/javadocs/2.2.5/com/mulesoft/mmc/alert/builder/AlertAction.html">AlertAction</a> to take when an alert is raised.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, refer to the Javadocs for the alert action classes, which can be found <a href="http://www.mulesoft.com/mmc/javadocs/2.2.5/com/mulesoft/mmc/alert/builder/package-summary.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example-email-alerts"><a class="anchor" href="#example-email-alerts"></a>Example Email Alerts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can configure email alert actions using the <code>EmailActionBuilder</code> class. Here is a simple example that emails an alert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.console.alert.builder.AlertFactory
import com.mulesoft.console.alert.builder.AlertActionBuilder;
import com.mulesoft.console.alert.builder.EmailActionBuilder;

new AlertActionBuilder()
    .name("EmailAction")
    .doAction(
           new EmailActionBuilder()
                .server("localhost")
                .port(8025)
                .from("mmc@mulesoft.com")
                .to("you@mulesoft.com")
                .build())
    .install(applicationContext);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the methods on the <code>EmailActionBuilder</code> class, you can customize the SMTP server, the port, the from and to addresses, along with specifying the subject and body of the message.</p>
</div>
<div class="paragraph">
<p>You can customize how the subject and body are generated using the <code>subject()</code> and <code>body()</code> methods of the <code>EmailActionBuilder</code> class. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.console.alert.builder.AlertFactory
import com.mulesoft.console.alert.builder.AlertActionBuilder;
import com.mulesoft.console.alert.builder.EmailActionBuilder;

def action = new AlertActionBuilder()
    .name("EmailAction")
    .doAction(
           new EmailActionBuilder()
                .server("localhost")
                .port(8025)
                .from("mmc@mulesoft.com")
                .to("you@mulesoft.com")
                .subject({ "Test subject: ${it.description}" } as AlertFactory)
                .body({ "Test body: ${it.description}" } as AlertFactory)
                .build())
    .install(applicationContext);
"Email alert successful installed"</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above code example, the <code>subject()</code> and <code>body()</code> methods take an <code>AlertFactory</code> that generates a <code>String</code> variable from a <a href="http://www.mulesoft.com/mmc/javadocs/2.2.5/com/mulesoft/mmc/alert/RaisedAlert.html">RaisedAlert</a>.</p>
</div>
<div class="paragraph">
<p>Here is a more complex example that specifies a user name and password, and also specifies that SSL be used with Gmail:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.console.alert.builder.AlertFactory
import com.mulesoft.console.alert.builder.AlertActionBuilder;
import com.mulesoft.console.alert.builder.EmailActionBuilder;

new AlertActionBuilder()
    .name("EmailAction")
    .servers("test")
    .doAction(
           new EmailActionBuilder()
                .useSSL()
                .server("smtp.gmail.com")
                .port(465)
                .from("xxx@gmail.com")
                .username("xxx@gmail.com")
                .password("xxx")
                .to("xxx@xxx.com")
                .subject({ "You have an alert! ${it.description}" } as AlertFactory)
                .body({ "${it.description}" } as AlertFactory)
                .build())
    .install(applicationContext);
"Email alert successful installed"</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information, see the <a href="http://www.mulesoft.com/mmc/javadocs/2.2.5/com/mulesoft/mmc/alert/builder/EmailActionBuilder.html">EmailActionBuilder javadoc</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="inserting-expressions-in-email-subject-or-body"><a class="anchor" href="#inserting-expressions-in-email-subject-or-body"></a>Inserting Expressions in Email Subject or Body</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can insert an expression in an email subject or body by placing the expression itself within curly braces, proceeded by the dollar sign ($) symbol; that is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">${&lt;expression&gt;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above examples do this for both subject and body; for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">{{.subject({ "You have an alert! ${it.description}" } }...</code></pre>
</div>
</div>
<div class="paragraph">
<p>An expression enclosed as shown above is converted into a string.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="script-to-perform-snmp-escalation-for-an-alert"><a class="anchor" href="#script-to-perform-snmp-escalation-for-an-alert"></a>Script to Perform SNMP Escalation for an Alert</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>SnmpActionBuilder</code> class includes methods allowing you to create scripts that send an SNMP trap from a raised alert. You must specify three parameters: an SNMP OID (object identifier), a local address to bind to, and a target address to send to.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.console.alert.builder.AlertFactory
import com.mulesoft.console.alert.builder.AlertActionBuilder;
import com.mulesoft.console.alert.builder.SnmpActionBuilder;
new AlertActionBuilder()
            .name("SnmpAction")
            .servers("MyServer")
            .doAction(
                new SnmpActionBuilder()
                    .oid("1.3.6")
                    .localAddress("udp:127.0.0.1/40162")
                    .targetAddress("udp:127.0.0.1/40163")
                    .build())
            .install(applicationContext);
"SNMP trap alert successful installed"</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default the <code>SnmpActionBuilder</code> sends the value of <code>RaisedAlert.getDescription</code> as the value of your SNMP trap. You can customize this value, however, by using an <code>AlertFactory</code>. For instance, suppose you want to send the current memory usage as the value. You might set up the code as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.console.alert.builder.AlertFactory
import com.mulesoft.console.alert.builder.AlertActionBuilder;
import com.mulesoft.console.alert.builder.SnmpActionBuilder;
new AlertActionBuilder()
            .name("SnmpAction")
            .servers("MyServer")
            .doAction(
                new SnmpActionBuilder()
                    .oid("1.3.6")
                    .localAddress("udp:127.0.0.1/40162")
                    .targetAddress("udp:127.0.0.1/40163")
                    .value({ it.getActualValue() } as AlertFactory)
                    .build())
            .install(applicationContext);
"SNMP trap alert successful installed"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>getActualValue</code> method returns the current memory usage for raised memory alerts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="script-to-implement-a-custom-action"><a class="anchor" href="#script-to-implement-a-custom-action"></a>Script to Implement a Custom Action</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is a sample script that implements a custom action when an alert occurs. In this sample script, the custom action merely prints a message. However, you can easily substitute your own action. To use this script, write your own custom action and then paste the script into the administration shell.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mulesoft.common.server.ServerHealthEvent
import org.mule.galaxy.event.annotation.Async
import org.mule.galaxy.event.annotation.BindToEvent
import org.mule.galaxy.event.annotation.OnEvent

@BindToEvent(com.mulesoft.common.server.ServerHealthEvent)
class AnnoTestListener {

    @Async @OnEvent
    public void onServerHealthEvent(ServerHealthEvent event) {
        println "===&gt; server health alert"
    }

}

// main block
def em = applicationContext.getBean('eventManager')
assert em != null

// remove the previous listener, if any
eventManager.listeners.each {
    if (it.class.simpleName == AnnoTestListener.class.simpleName) {
        eventManager.removeListener(it)
        println "Removed previous listener"
    }
}
em.addListener(new AnnoTestListener())</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="script-to-restart-a-server"><a class="anchor" href="#script-to-restart-a-server"></a>Script to Restart a Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following example script can be used to restart a server. In this example, the server to be restarted is called MyServer. To use this script, you would change MyServer to the name of your own server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">svrMgr = applicationContext.getBean("serverManager")
svr = svrMgr.getServerByName("MyServer", false)
foo = svrMgr.restartServerNow(svr.getId())</code></pre>
</div>
</div>
</div>
</div>
  </article>
</main>
<footer class="footer"><div class="footer__wrapper">
      <div class="footer__top">
              </div>
      <div class="footer-bottom-wrapper">
        <!--<a href="/" title="Home" rel="home" class="header__logo" id="logo"><img src="/sites/all/themes/muletheme/images/mule_logo.svg" alt="Home" class="header__logo-image" /></a>-->
        <div class="connect-footer">
          <p>Sign up for our Dev newsletter</p>
          <div class="connect-footer">

</div>
  </div>
        <div class="terms-conditions temp">
          <div id="block-menu-menu-footer-bottom-menu" class="block block-menu contextual-links-region first last odd" role="navigation">
            <ul class="menu"><li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/" class="menu__link">MuleSoft.com</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/" class="menu__link">Blog</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/content/terms-service" class="menu__link">Terms</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/privacy-policy" class="menu__link">Privacy</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/contact" class="menu__link">Contact</a></li>
            </ul></div>
                    <div class="default-terms-conditions">
          </div>
          MuleSoft provides a widely used <a href="https://www.mulesoft.com/platform/enterprise-integration">integration platform</a> for connecting SaaS and enterprise applications in the cloud and on-premise. Delivered as a unified integration experience, <a href="https://www.mulesoft.com/platform/saas/cloudhub-ipaas-cloud-based-integration">CloudHub&trade;</a> and <a href="https://www.mulesoft.com/platform/soa/mule-esb-open-source-esb">Mule ESB&trade;</a> (Enterprise Service Bus) are built on proven open source technology for fast and reliable on-premise and cloud integration without vendor lock-in.


        </div>
      </div>
      <div class="footer-end">
        <div class="footer-logo-wrapper">
          <a href="https://developer.mulesoft.com/" class="footer-logo"></a>
        </div>
        <ul class="social-links"><li><a href="https://www.mulesoft.com/lp/contact" target="_blank" class="icon-muletheme-phone"></a></li>
          <li><a href="https://www.linkedin.com/company/mulesoft" target="_blank" class="icon-muletheme-linkedin"></a></li>
          <li><a href="https://twitter.com/muledev" target="_blank" class="icon-muletheme-twitter"></a></li>
          <li><a href="https://www.facebook.com/MuleSoft" target="_blank" class="icon-muletheme-facebook"></a></li>
          <li><a href="mailto:info@mulesoft.com" target="_blank" class="icon-muletheme-email"></a></li>
          <li><a href="https://videos.mulesoft.com/" target="_blank" class="icon-muletheme-youtube"></a></li>
        </ul><p class="copyright"><span>&copy;2017</span> MuleSoft, INC.</p>
      </div>
    </div>
    </footer><script src="../../_theme/scripts/menu.js"></script>
<script src="../../_theme/scripts/highlight.pack.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>
