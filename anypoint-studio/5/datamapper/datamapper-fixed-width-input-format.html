<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="datamapper">
  <link rel="canonical" href="https://ede65566-docs-migration.github.io/docs-site/anypoint-studio/6/datamapper/datamapper-fixed-width-input-format.html">
  <link rel="stylesheet" href="../../../_theme/stylesheets/theme.css">
  <title>DataMapper Example: Fixed-Width Input Format // MuleSoft Documentation</title>
</head>
<body class="article">
<header class="header" id="header" role="banner"><div class="header__wrapper clearfix">
      <div class="header__logo--primary-nav clearfix">
        <a href="https://docs.mulesoft.com" title="Home" rel="home" class="header__logo" id="logo">
          <img src="../../../_theme/images/mulesoft-dev-logo.svg" alt="Home" class="header__logo-image"></a>
          <div class="header__region region region-header">
    <div id="block-system-main-menu" class="block block-menu first last odd" role="navigation">

        <h2 class="block__title block-title">Main Dev Menu</h2>
    
  <ul class="menu"><li class="menu__item is-expanded first expanded"><span class="menu__link">Platform</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/dev/anypoint-studio" title="" class="menu__link">Studio</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/connectors" title="" class="menu__link">Connectors</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/anypoint-exchange" title="" class="menu__link">Exchange</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/design-api" title="" class="menu__link">API Designer</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-developer-portal" title="" class="menu__link">API Portal</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/mule-runtime-engine" title="" class="menu__link">Mule runtime engine</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-management" title="" class="menu__link">API Manager</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/dev/reporting-api-analytics" title="" class="menu__link">API Analytics</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><span class="menu__link">Resources</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/getting-started/anypoint-platform" class="menu__link">Getting started</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/tutorials-and-howtos" class="menu__link">Tutorials &amp; HowTos</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/webinars-and-videos" title="" class="menu__link">Webinars &amp; Videos</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/workshops" class="menu__link">Online Workshops</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/integration-books-and-resources" class="menu__link">Books &amp; Whitepapers</a></li>
<li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/dev/" class="menu__link">Blog</a></li>
<li class="menu__item is-leaf leaf"><a href="https://docs.mulesoft.com" class="menu__link">Documentation</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://training.mulesoft.com" class="menu__link">Training</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><a href="https://developer.mulesoft.com/community" class="menu__link">Community</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="http://forum.mulesoft.org/" class="menu__link">Forums</a></li>
<li class="menu__item is-leaf leaf"><a href="https://meetups.mulesoft.com" class="menu__link">Meetups</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/" class="menu__link">Contributed Content</a></li>
<li class="menu__item is-leaf leaf"><a href="https://s2.developer.mulesoft.com/jobs.html" class="menu__link">Jobs</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://www.mulesoft.org/jira/browse/MULE" class="menu__link">Issue tracker</a></li>
</ul></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/champions" class="menu__link">Champions</a></li>
</ul></div>
  </div>
      </div> <!-- header__logo--primary-nav -->
      <div class="header__top-wrapper">
        <div class="header__nav-wrapper">
                      <div class="region region-header-top">
    <div id="block-search-form" class="block block-search first last odd" role="search">

      
  
</div>
  </div>
        </div>
        <div class="top-nav-ctas">
          <a class="icon-muletheme-phone" href="https://mulesoft.com/lp/contact" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-contact');"></a>
          <a href="https://anypoint.mulesoft.com/login/#/signup?apintent=dmc_generic" class="try" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-nav');">Try now</a>
          <a href="https://mulesoft.com/" class="dev" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-mscom');">MuleSoft.com</a>
        </div>
      </div> <!-- header__secondary-nav-search -->
    </div> <!-- header__wrapper -->
    <a href="#sidr" id="open-left" class="closed">
    </a>
  </header><main role="main" class="main-wrapper">
  <div class="navigation-wrapper">
    <nav role="navigation" class="navigation">
      <div class="search">
        <input type="text" placeholder="Search the docs" class="search-input" autocomplete="off" autocorrect="off" autocapitalize="off">
      </div>
      <div class="inner-nav">
          <ul class="nav-lst">
              <li class="nav-itm" data-depth="0" data-state="collapsed">
                  <button class="nav-tgl"></button>
                <a class="nav-lnk" href="../index.html">Anypoint Studio</a>
                  <ul class="nav-lst">
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="../setting-up-your-development-environment.html">Development Environment Setup</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../hardware-and-software-requirements.html">Hardware and Software Requirements</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="../download-and-launch-anypoint-studio.html">Download and Launch Anypoint Studio</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../install-update-items-in-studio.html">Installing Extensions</a>
                                      </li>
                                  </ul>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="../install-update-items-in-studio.html">Studio Update Sites</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../mule-runtime/adding-community-runtime.html">Installing Community Edition of Mule Runtime</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../install-studio-gw.html">Installing API Gateway Runtime</a>
                                      </li>
                                  </ul>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="../maven/using-maven-in-anypoint-studio.html">Using Maven in Studio</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../maven/maven-support-in-anypoint-studio.html">Maven Support in Studio</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../maven/building-a-mule-application-with-maven-in-studio.html">Building Mule Applications with Maven in Studio</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../maven/enabling-maven-support-for-a-studio-project.html">Enabling Maven Support on Studio Projects</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../maven/importing-a-maven-project-into-studio.html">Importing Maven Projects</a>
                                      </li>
                                  </ul>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../studio-in-eclipse.html">Studio in Eclipse</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../using-subversion-with-studio.html">Using Subversion</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="../basic-studio-tutorial.html">Basic Studio Tutorial</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="../anypoint-studio-features.html">Studio Reference</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="../datasense/datasense.html">DataSense</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../testing-connections.html">Testing Connections</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../using-perceptive-flow-design.html">Using Perceptive Flow Design</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../datasense/datasense-enabled-connectors.html">DataSense-enabled Connectors</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../datasense/using-the-datasense-explorer.html">Using the DataSense Explorer</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../datasense/datasense-query-editor.html">DataSense Query Editor</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../datasense/datasense-query-language.html">DataSense Query Language</a>
                                      </li>
                                  </ul>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../using-dataweave-in-studio.html">DataWeave</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../studio-visual-debugger.html">Studio Visual Debugger</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../import-export-projects-studio.html">Importing and Exporting</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../mule-runtime/changing-runtimes-in-studio.html">Changing Runtimes in Studio</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../keyboard-shortcuts-in-studio.html">Keyboard Shortcuts</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../adding-source-attachments-to-studio.html">Adding Source Attachments to Studio</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="../mule-runtime/starting-the-runtime-in-cluster-mode-in-studio.html">Starting the Runtime in Cluster Mode in Studio</a>
                              </li>
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                  <button class="nav-tgl"></button>
                                <a class="nav-lnk" href="datamapper-user-guide-and-reference.html">DataMapper (Deprecated)</a>
                                  <ul class="nav-lst">
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="datamapper-concepts.html">DataMapper Concepts</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="datamapper-visual-reference.html">DataMapper Visual Reference</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                          <button class="nav-tgl"></button>
                                        <a class="nav-lnk" href="defining-datamapper-input-and-output-metadata.html">Defining DataMapper Input and Output Metadata</a>
                                          <ul class="nav-lst">
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="../defining-metadata-using-edit-fields.html">Defining Metadata Using Edit Fields</a>
                                              </li>
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="../pojo-class-bindings-and-factory-classes.html">POJO Class Bindings and Factory Classes</a>
                                              </li>
                                          </ul>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                          <button class="nav-tgl"></button>
                                        <a class="nav-lnk" href="../building-a-mapping-flow-in-the-graphical-mapping-editor.html">Building a Mapping Flow in the Graphical Mapping Editor</a>
                                          <ul class="nav-lst">
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="../mapping-flow-input-and-output-properties.html">Mapping Flow Input and Output Properties</a>
                                              </li>
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="datamapper-input-error-policy-for-bad-input-data.html">DataMapper Input Error Policy for Bad Input Data</a>
                                              </li>
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="using-datamapper-lookup-tables.html">Using DataMapper Lookup Tables</a>
                                              </li>
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="streaming-data-processing-with-datamapper.html">Streaming Data Processing with DataMapper</a>
                                              </li>
                                          </ul>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../updating-metadata-in-an-existing-mapping.html">Updating Metadata in an Existing Mapping</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="../mapping-elements-inside-lists.html">Mapping Elements Inside Lists</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="previewing-datamapper-results-on-sample-data.html">Previewing DataMapper Results on Sample Data</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="datamapper-examples.html">DataMapper Examples</a>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                          <button class="nav-tgl"></button>
                                        <a class="nav-lnk" href="datamapper-supplemental-topics.html">DataMapper Supplemental Topics</a>
                                          <ul class="nav-lst">
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="../choosing-mel-or-ctl2-as-scripting-engine.html">Choosing MEL or CTL2 as Scripting Engine</a>
                                              </li>
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="datamapper-fixed-width-input-format.html">DataMapper Fixed Width Input Format</a>
                                              </li>
                                              <li class="nav-itm" data-depth="4" data-state="collapsed">
                                                <a class="nav-lnk" href="datamapper-flat-to-structured-and-structured-to-flat-mapping.html">DataMapper Flat-to-Structured and Structured-to-Flat Mapping</a>
                                              </li>
                                          </ul>
                                      </li>
                                      <li class="nav-itm" data-depth="3" data-state="collapsed">
                                        <a class="nav-lnk" href="including-the-datamapper-plugin.html">Including the DataMapper Plugin</a>
                                      </li>
                                  </ul>
                              </li>
                          </ul>
                      </li>
                  </ul>
              </li>
          </ul>
      </div>
    </nav>
  </div>
  <article class="primary-content">
    <header class="article-header">
      <div class="breadcrumb">
        <strong class="breadcrumb-item">[ Domain Selector Placeholder ]</strong> /
        <span class="breadcrumb-item">DataMapper Example: Fixed-Width Input Format</span>
      </div>
      <div class="edit-on-github">
        <a href="https://github.com/ede65566-docs-migration/anypoint-studio-docs/edit/v5/modules/ROOT/content/datamapper/datamapper-fixed-width-input-format.adoc" class="edit-on-github-link">Edit on Github</a>
      </div>
    </header>
    <h1>DataMapper Example: Fixed-Width Input Format</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>DataMapper will continue to be fully supported in all current and future versions of Mule ESB 3.x, however it will be removed in Mule 4.0 in favour of the <strong>Transform Message</strong> component (based on <a href="../../../mule-runtime/3.8/dataweave/dataweave.html">DataWeave</a> code). We recommend that if you wish to take advantage of the new capabilities of DataWeave or if you start new projects, upgrade now.</p>
</div>
<div class="paragraph">
<p>A <a href="../../../mule-runtime/3.8/dataweave/dataweave-migrator.html">migration tool</a> is now included in Studio, which assists in converting a DataMapper map to DataWeave. Right click on a DataMapper, select <strong>Migrate to DataWeave</strong>, and follow the instructions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/dw-migrator-script.png" alt="dw migrator">
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t see DataMapper on your palette, you can enable it by going to <strong>Preferences</strong> &#8594; <strong>Anypoint Studio</strong> &#8594; <strong>Palette Profiles</strong> and ticking the checkbox <strong>Show deprecated Mule Components and Attributes</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Anypoint DataMapper can organize data into fixed-width columns, allowing for data extraction using the width value for each column.  Reading data in fixed-width format, DataMapper can separate the appropriate fields according to user-provided field length values (see example below).</p>
</div>
<div class="paragraph">
<p>This document illustrates two simple examples that map values from fixed-width data format to JSON.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Where there are unused characters within a field, DataMapper applies padding.</p>
</li>
<li>
<p>Optionally, the input format may contain a header in the first line.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">lastName~~~~~~firstName~~~~~~customerID~
Doe~~~~~~~~~~~John~~~~~~~~~~~41164794149
Doe~~~~~~~~~~~Jane~~~~~~~~~~~79251226021</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assumptions"><a class="anchor" href="#assumptions"></a>Assumptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document assumes the reader is familiar with the DataMapper Transformer.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fixed-width-to-json-example-flow"><a class="anchor" href="#fixed-width-to-json-example-flow"></a>Fixed-width to JSON Example Flow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following image illustrates a very simple Mule flow which includes a DataMapper transformer.  The first building block, a <a href="../../../mule-runtime/3.7/connectors/file/file-connector.html">File Connector</a>, reads the fixed-width input file. Then, DataMapper transforms the data into the JSON format, and outputs the result into a second file.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/flow-1.png" alt="flow 1">
</div>
</div>
<div class="paragraph">
<p>To test the mapping, you can build this flow in Studio, then run the application and check the results in the output file. Alternatively, you can build this flow, then can use DataMapper&#8217;s <a href="previewing-datamapper-results-on-sample-data.html">Preview</a> feature to view the mapping without running the application.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the values used for the file inbound and outbound connectors in the flow as per the following:</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">Inbound connector</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/tmp/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File Name Regex Filter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fwtest</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">Outbound connector</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/tmp</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File Name Regex Filter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fwout.json</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Create a <strong>Fixed-Width Input File</strong>: create a new text file (.txt), then paste into it the contents shown below. Make sure to include an empty line after the last line in the file, as DataMapper uses the end-of-line character (carriage return) as an input field delimiter.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">LastName  FirstName Phone      CountryEmployeeNo
Jane      Doe       54112223333ARG001
John      Doe       54112223333ARG002</code></pre>
</div>
</div>
</li>
<li>
<p>Save the file to a convenient location on your local drive. To see the DataMapper perform the transformation, you will eventually copy this file to <code>/tmp/fwtest</code>.</p>
</li>
<li>
<p>Create the JSON sample file that that DataMapper uses as the template for converting data to JSON. Create the file and paste into it the following contents:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[{
  "FirstName": "",
  "LastName": "",
  "Phone": "",
  "Country": "",
  "EmployeeNo": ""
}]</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="configuring-datamapper-input"><a class="anchor" href="#configuring-datamapper-input"></a>Configuring DataMapper Input</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the DataMapper building block on the canvas to display the DataMapper properties editor.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/dm-editor.png" alt="DM_editor">
</div>
</div>
</li>
<li>
<p>In the <strong>Input</strong> section, click the Edit icon
<span class="image"><img src="../_images/datamapper/edit-icon.png" alt="edit_icon"></span> next to the <strong>Type</strong> input field, then select <strong>Fixed Width</strong> from the <strong>Type</strong> drop-down menu. The properties editor <strong>Input</strong> pane displays the input options for the fixed-width format, as shown below.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/3-fixedw-options.png" alt="3.fixedw_options">
</div>
</div>
</li>
<li>
<p>The default option, <strong>From Example</strong>, allows you to use an input file for determining input field properties (field names and width). The <strong>User Defined</strong> option allows you to manually define the input fields. In this example, we will use the input file described above so that DataMapper automatically configures the fields.</p>
</li>
<li>
<p>Use the ellipses button (&#8230;&#8203;) next to the <strong>Fixed width</strong> field to select the fixed-width input file on your local drive (alternatively, you can type the full path to the file in the <strong>Path to Fixed Width File</strong> input field).</p>
</li>
<li>
<p>After you have selected your input file, click <strong>Edit Fields</strong>. DataMapper displays the <strong>Define the Fixed Width</strong> panel. The image below illustrates how DataMapper reads the input file.  DataMapper has correctly guessed the width of all fields, and the names of the first three fields. The last two fields have the correct width values, but we must edit the names.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/fixed-width-input.png" alt="fixed_width_input">
</div>
</div>
</li>
<li>
<p>To edit a field, click the field attribute you wish to edit (the name, type or width), then adjust the content and click <strong>OK</strong>.  For this example, change the names of the last two fields to their appropriate values:  <code>Country</code> and <code>EmployeeNo</code>.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/props5.png" alt="props5">
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>DataMapper accepts several input field types, including string, date, boolean, etc. To define the type for a field, click the field&#8217;s type and select the desired type from the drop-down menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/propstip.png" alt="propstip">
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring-datamapper-output"><a class="anchor" href="#configuring-datamapper-output"></a>Configuring DataMapper Output</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Output</strong> section of the <strong>Input and Output Type</strong> window, use the drop-down menu next to <strong>Type</strong> to select <code>JSON</code>.</p>
</li>
<li>
<p>Use the ellipses button (&#8230;&#8203;) next to the <strong>Fixed width example</strong> field to select the JSON output file on your local drive.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want DataMapper to automatically generate the output JSON, click <strong>Generatedefault</strong> in the <strong>Output</strong> section of the <strong>New Data Mapping Flow</strong> window.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click <strong>Create mapping</strong> at the bottom of the DataMapper properties editor. DataMapper displays the graphical mapping editor, shown below.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/4-dm-mapedit.png" alt="4.DM_mapedit">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>As you can see, DataMapper has automatically mapped the input and output fields, since the field names coincide in the input and output.</p>
</div>
</div>
<div class="sect2">
<h3 id="testing-the-mapping"><a class="anchor" href="#testing-the-mapping"></a>Testing the Mapping</h3>
<div class="paragraph">
<p>To test the mapping, use one of the following procedures.</p>
</div>
<div class="exampleblock ex">
<div class="content">
<h3 id="run-application" class="discrete view">Run Application</h3>
<div class="paragraph">
<p>Test by running the example flow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click the project name in the Package Explorer, then select  <strong>Run as</strong> &gt; <strong>Mule Application</strong>.</p>
</li>
<li>
<p>Copy your fixed-width input file to the directory and filename you specified for the File inbound connector (in this example, <code>/tmp/fwtest</code>).</p>
</li>
<li>
<p>Check for the example output file according to the configuration of the outbound file connector (in this example, <code>/tmp/fwout.json</code>.</p>
</li>
</ol>
</div>
<h3 id="see-preview" class="discrete view">See Preview</h3>
<div class="paragraph">
<p>DataMapper&#8217;s <a href="previewing-datamapper-results-on-sample-data.html">Preview</a> feature allows you to see the result of your mapping without actually running the flow. Test by using DataMapper&#8217;s Preview feature:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the DataMapper view, click the <strong>Preview</strong> tab.</p>
</li>
<li>
<p>In the <strong>Preview</strong> tab, click <strong>Run</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The code below demonstrates the resulting JSON output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[{
  "FirstName" : "Doe",
  "LastName" : "Jane",
  "Phone" : "54112223333",
  "Country" : "ARG",
  "EmployeeNo" : "001"
}, {
  "FirstName" : "Doe",
  "LastName" : "John",
  "Phone" : "54112223333",
  "Country" : "ARG",
  "EmployeeNo" : "002"
}]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-fixed-width-column-definitions-to-extract-additional-fields"><a class="anchor" href="#using-fixed-width-column-definitions-to-extract-additional-fields"></a>Using Fixed-Width Column Definitions to Extract Additional Fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this additional example, we split an employee&#8217;s phone number, originally comprised of 11 digits, into three separate fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CountryCode</code></p>
</li>
<li>
<p><code>AreaCode</code></p>
</li>
<li>
<p><code>Phone</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To do this in the DataMapper building block you configured for the previous example, you need to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit the <code>Phone</code> input field so that its width equals 7.</p>
</li>
<li>
<p>Create the two additional input fields <code>CountryCode</code> and <code>AreaCode</code>.</p>
</li>
<li>
<p>Place the input fields in the appropriate order.</p>
</li>
<li>
<p>Modify the output fields to coincide with the new input fields.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To complete the above high-level steps, follow the instructions below.</p>
</div>
<div class="sect2">
<h3 id="modifying-the-input-fields"><a class="anchor" href="#modifying-the-input-fields"></a>Modifying the Input Fields</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Input</strong> pane of the graphical mapping editor, double-click the <code>Phone</code> field to edit its properties via the <strong>Edit attribute</strong> window, shown below.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/5-field-attr.png" alt="5.Field.attr">
</div>
</div>
</li>
<li>
<p>As you can see, the field&#8217;s width is 11 characters. Change the width to 7, then click <strong>OK</strong>. The final input field properties should correspond to the table below.</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Width</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LastName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FirstName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PhoneNo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Country</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EmployeeNo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>We will now create the additional fields. In the <strong>Input</strong> pane, right-click the top-level element (in this case, <code>fwtest</code>), then select <strong>Add Field</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/6-add-field.png" alt="6.add_field">
</div>
</div>
</li>
<li>
<p>Using this procedure, add the following fields:</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Width</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CountryCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AreaCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>The new fields that you add appear at the bottom of the Input pane, as if they were the last fields in the input file. You need to move them up to their proper place, after the <code>FirstName</code> input field. To do so, right-click the desired field, then select <strong>Move Field Up</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/7-moveup.png" alt="7.moveup">
</div>
</div>
</li>
<li>
<p>Ensure that the input fields appear in the following order: <code>LastName</code>, <code>FirstName</code>, <code>CountryCode</code>, <code>AreaCode</code>, <code>Phone</code>, <code>Country</code>, <code>EmployeeNo</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this point, we have finished modifying the input fields for the new mapping.</p>
</div>
</div>
<div class="sect2">
<h3 id="modifying-the-output-fields"><a class="anchor" href="#modifying-the-output-fields"></a>Modifying the Output Fields</h3>
<div class="paragraph">
<p>Now we will modify the output fields to include the new input fields. DataMapper provides a handy shortcut for this: the <strong>Recreate Metadata From Input</strong> function.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Output</strong> pane, click the <strong>Infer Metadata</strong> icon <span class="image"><img src="../_images/datamapper/infer-metadata.png" alt="infer_metadata"></span> , then select <strong>Re-Create Metadata From Input</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/8-recreate-md.png" alt="8.recreate_md">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>DataMapper will automatically recreate the output metadata and display the new mapping, as shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/datamapper/9-new-mapping.png" alt="9.new_mapping">
</div>
</div>
<div class="paragraph">
<p>As you can see, the new input fields have been mapped to their corresponding output fields.</p>
</div>
</div>
<div class="sect2">
<h3 id="testing-the-mapping-2"><a class="anchor" href="#testing-the-mapping-2"></a>Testing the Mapping</h3>
<div class="paragraph">
<p>As with the previous example, test the mapping by either running the application and generating an output file, or by using DataMapper&#8217;s Preview feature.  The code below demonstrates the resulting JSON output.  DataMapper has split the original <code>Phone</code> field into the fields <code>CountryCode</code>, <code>AreaCode</code> and <code>Phone</code>. DataMapper performed field splitting according to the lengths and field order provided in the Input Properties, and mapped them to the JSON format specified in the Output Properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[ {
  "LastName" : "Jane",
  "FirstName" : "Doe",
  "CountryCode" : "54",
  "AreaCode" : "11",
  "Phone" : "2223333",
  "Country" : "ARG",
  "EmployeeNo" : "001"
}, {
  "LastName" : "John",
  "FirstName" : "Doe",
  "CountryCode" : "54",
  "AreaCode" : "11",
  "Phone" : "2223333",
  "Country" : "ARG",
  "EmployeeNo" : "002"
} ]</code></pre>
</div>
</div>
</div>
</div>
</div>
  </article>
</main>
<footer class="footer"><div class="footer__wrapper">
      <div class="footer__top">
              </div>
      <div class="footer-bottom-wrapper">
        <!--<a href="/" title="Home" rel="home" class="header__logo" id="logo"><img src="/sites/all/themes/muletheme/images/mule_logo.svg" alt="Home" class="header__logo-image" /></a>-->
        <div class="connect-footer">
          <p>Sign up for our Dev newsletter</p>
          <div class="connect-footer">

</div>
  </div>
        <div class="terms-conditions temp">
          <div id="block-menu-menu-footer-bottom-menu" class="block block-menu contextual-links-region first last odd" role="navigation">
            <ul class="menu"><li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/" class="menu__link">MuleSoft.com</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/" class="menu__link">Blog</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/content/terms-service" class="menu__link">Terms</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/privacy-policy" class="menu__link">Privacy</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/contact" class="menu__link">Contact</a></li>
            </ul></div>
                    <div class="default-terms-conditions">
          </div>
          MuleSoft provides a widely used <a href="https://www.mulesoft.com/platform/enterprise-integration">integration platform</a> for connecting SaaS and enterprise applications in the cloud and on-premise. Delivered as a unified integration experience, <a href="https://www.mulesoft.com/platform/saas/cloudhub-ipaas-cloud-based-integration">CloudHub&trade;</a> and <a href="https://www.mulesoft.com/platform/soa/mule-esb-open-source-esb">Mule ESB&trade;</a> (Enterprise Service Bus) are built on proven open source technology for fast and reliable on-premise and cloud integration without vendor lock-in.


        </div>
      </div>
      <div class="footer-end">
        <div class="footer-logo-wrapper">
          <a href="https://developer.mulesoft.com/" class="footer-logo"></a>
        </div>
        <ul class="social-links"><li><a href="https://www.mulesoft.com/lp/contact" target="_blank" class="icon-muletheme-phone"></a></li>
          <li><a href="https://www.linkedin.com/company/mulesoft" target="_blank" class="icon-muletheme-linkedin"></a></li>
          <li><a href="https://twitter.com/muledev" target="_blank" class="icon-muletheme-twitter"></a></li>
          <li><a href="https://www.facebook.com/MuleSoft" target="_blank" class="icon-muletheme-facebook"></a></li>
          <li><a href="mailto:info@mulesoft.com" target="_blank" class="icon-muletheme-email"></a></li>
          <li><a href="https://videos.mulesoft.com/" target="_blank" class="icon-muletheme-youtube"></a></li>
        </ul><p class="copyright"><span>&copy;2017</span> MuleSoft, INC.</p>
      </div>
    </div>
    </footer><script src="../../../_theme/scripts/menu.js"></script>
<script src="../../../_theme/scripts/highlight.pack.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>
