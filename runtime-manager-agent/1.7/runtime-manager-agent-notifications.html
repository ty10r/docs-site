<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="agent, mule, esb, servers, monitor, notifications, external systems, third party, get status, metrics">
  <link rel="canonical" href="https://ede65566-docs-migration.github.io/docs-site/runtime-manager-agent/1.7/runtime-manager-agent-notifications.html">
  <link rel="stylesheet" href="../../_theme/stylesheets/theme.css">
  <title>Runtime Manager Agent Notifications // MuleSoft Documentation</title>
</head>
<body class="article">
<header class="header" id="header" role="banner"><div class="header__wrapper clearfix">
      <div class="header__logo--primary-nav clearfix">
        <a href="https://docs.mulesoft.com" title="Home" rel="home" class="header__logo" id="logo">
          <img src="../../_theme/images/mulesoft-dev-logo.svg" alt="Home" class="header__logo-image"></a>
          <div class="header__region region region-header">
    <div id="block-system-main-menu" class="block block-menu first last odd" role="navigation">

        <h2 class="block__title block-title">Main Dev Menu</h2>
    
  <ul class="menu"><li class="menu__item is-expanded first expanded"><span class="menu__link">Platform</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/dev/anypoint-studio" title="" class="menu__link">Studio</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/connectors" title="" class="menu__link">Connectors</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/anypoint-exchange" title="" class="menu__link">Exchange</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/design-api" title="" class="menu__link">API Designer</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-developer-portal" title="" class="menu__link">API Portal</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/mule-runtime-engine" title="" class="menu__link">Mule runtime engine</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-management" title="" class="menu__link">API Manager</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/dev/reporting-api-analytics" title="" class="menu__link">API Analytics</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><span class="menu__link">Resources</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/getting-started/anypoint-platform" class="menu__link">Getting started</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/tutorials-and-howtos" class="menu__link">Tutorials &amp; HowTos</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/webinars-and-videos" title="" class="menu__link">Webinars &amp; Videos</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/workshops" class="menu__link">Online Workshops</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/integration-books-and-resources" class="menu__link">Books &amp; Whitepapers</a></li>
<li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/dev/" class="menu__link">Blog</a></li>
<li class="menu__item is-leaf leaf"><a href="https://docs.mulesoft.com" class="menu__link">Documentation</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://training.mulesoft.com" class="menu__link">Training</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><a href="https://developer.mulesoft.com/community" class="menu__link">Community</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="http://forum.mulesoft.org/" class="menu__link">Forums</a></li>
<li class="menu__item is-leaf leaf"><a href="https://meetups.mulesoft.com" class="menu__link">Meetups</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/" class="menu__link">Contributed Content</a></li>
<li class="menu__item is-leaf leaf"><a href="https://s2.developer.mulesoft.com/jobs.html" class="menu__link">Jobs</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://www.mulesoft.org/jira/browse/MULE" class="menu__link">Issue tracker</a></li>
</ul></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/champions" class="menu__link">Champions</a></li>
</ul></div>
  </div>
      </div> <!-- header__logo--primary-nav -->
      <div class="header__top-wrapper">
        <div class="header__nav-wrapper">
                      <div class="region region-header-top">
    <div id="block-search-form" class="block block-search first last odd" role="search">

      
  
</div>
  </div>
        </div>
        <div class="top-nav-ctas">
          <a class="icon-muletheme-phone" href="https://mulesoft.com/lp/contact" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-contact');"></a>
          <a href="https://anypoint.mulesoft.com/login/#/signup?apintent=dmc_generic" class="try" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-nav');">Try now</a>
          <a href="https://mulesoft.com/" class="dev" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-mscom');">MuleSoft.com</a>
        </div>
      </div> <!-- header__secondary-nav-search -->
    </div> <!-- header__wrapper -->
    <a href="#sidr" id="open-left" class="closed">
    </a>
  </header><main role="main" class="main-wrapper">
  <div class="navigation-wrapper">
    <nav role="navigation" class="navigation">
      <div class="search">
        <input type="text" placeholder="Search the docs" class="search-input" autocomplete="off" autocorrect="off" autocapitalize="off">
      </div>
      <div class="inner-nav">
      </div>
    </nav>
  </div>
  <article class="primary-content">
    <header class="article-header">
      <div class="breadcrumb">
        <strong class="breadcrumb-item">[ Domain Selector Placeholder ]</strong> /
        <span class="breadcrumb-item">Runtime Manager Agent Notifications</span>
      </div>
      <div class="edit-on-github">
        <a href="https://github.com/ede65566-docs-migration/runtime-manager-agent-docs/edit/v1.7/modules/ROOT/content/runtime-manager-agent-notifications.adoc" class="edit-on-github-link">Edit on Github</a>
      </div>
    </header>
    <h1>Runtime Manager Agent Notifications</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="/runtime-manager/deployment-strategies"><img src="./_images/logo-cloud-disabled.png" alt="logo cloud disabled" title="CloudHub"></a></span>
<span class="image"><a class="image" href="/runtime-manager/deployment-strategies"><img src="./_images/logo-hybrid-active.png" alt="logo hybrid active" title="Hybrid Deployment"></a></span>
<span class="image"><a class="image" href="/runtime-manager/deployment-strategies"><img src="./_images/logo-server-active.png" alt="logo server active" title="Anypoint Platform Private Cloud Edition"></a></span>
<span class="image"><a class="image" href="/runtime-manager/deployment-strategies"><img src="./_images/logo-pcf-disabled.png" alt="logo pcf disabled" title="Pivotal Cloud Foundry"></a></span></p>
</div>
<div class="paragraph">
<p>The Runtime Manager Agent publishes notifications about events that occur in the Mule instance in JSON format, which allows you to implement your own system for receiving and handling notifications. Notifications are sent over both the REST and WebSocket transports (for more information on transports refer to the Runtime Manager Agent Architecture documentation).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-deployment-notifications"><a class="anchor" href="#application-deployment-notifications"></a>Application Deployment Notifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Runtime Manager Agent sends a notification every time there is a change in state during an application deployment or undeployment. Notifications are sent via a PUT request to the <code>applications/&lt;appname&gt;/deployment</code> path, as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>PUT &lt;callback URL&gt;/applications/&lt;application name&gt;/deployment HTTP/1.1</pre>
</div>
</div>
<div class="sect2">
<h3 id="example-notification"><a class="anchor" href="#example-notification"></a>Example Notification</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "application": {
    "name": "applicationName",
    "domain": "domainName",
    "state": "STARTED"
  },
  "status": "DEPLOYED",
  "message": "Application successfully deployed."
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="notification-fields"><a class="anchor" href="#notification-fields"></a>Notification Fields</h3>
<div class="paragraph">
<p>Application deployment notifications contain the fields listed below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>application</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Contains the following itemized information about the application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Application name</p>
</li>
<li>
<p>Name of the domain to which the application is deployed</p>
</li>
<li>
<p>Current state of the application</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a list of all possible application states, see the <a href="#application-states-and-deployment-status">Application States and Deployment Status</a> section.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current status of the deployment. After a deployment operation is completed, the message remains as <code>DEPLOYED</code>; after an undeployment operation the message remains as <code>UNDEPLOYED</code>.</p>
</div>
<div class="paragraph">
<p>For a list of all possible status messages, see the <a href="#application-states-and-deployment-status">Application States and Deployment Status</a> section.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An informational message about the current deployment stage. In case of a deployment failure, information about the reason for the failure is included in the message.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="domain-deployment-notifications"><a class="anchor" href="#domain-deployment-notifications"></a>Domain Deployment Notifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Runtime Manager Agent sends a notification every time there is a change in state during a domain deployment or undeployment. Notifications are sent via a PUT request to the <code>domains/&lt;domainname&gt;/deployment</code> path, as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>PUT &lt;callback URL&gt;/domains/&lt;domain name&gt;/deployment HTTP/1.1</pre>
</div>
</div>
<div class="sect2">
<h3 id="example-notification-2"><a class="anchor" href="#example-notification-2"></a>Example Notification</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"domain": {
    "name": "domainName",
    "applications": [
      {
        "name": "application1",
        "domain": "domainName",
        "state": "STARTED"
      },
      {
        "name": "application2",
        "domain": "domainName",
        "state": "STOPPED"
      },
    ]
  },
  "status": "DEPLOYED",
  "message": "Domain successfully deployed."
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="notification-fields-2"><a class="anchor" href="#notification-fields-2"></a>Notification Fields</h3>
<div class="paragraph">
<p>Domain deployment notifications contain the fields listed below.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domain</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Contains the following itemized information about the domain:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Domain name</p>
</li>
<li>
<p>List of applications deployed to the domain, specifying:</p>
</li>
<li>
<p>Application name</p>
</li>
<li>
<p>Domain name</p>
<div class="ulist">
<ul>
<li>
<p>Application status</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Current status of the deployment. After a deployment operation is completed, the message remains as <code>DEPLOYED</code>; after an undeployment operation the message remains as <code>UNDEPLOYED</code>.</p>
</div>
<div class="paragraph">
<p>For a list of all possible status messages, see the <a href="#application-states-and-deployment-status">Application States and Deployment Status</a> section.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An informational message about the current deployment stage. In case of a deployment failure, information about the reason for the failure is included in the message.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keep-alive-notifications"><a class="anchor" href="#keep-alive-notifications"></a>Keep-Alive Notifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Runtime Manager Agent sends a periodic keep-alive notification to verify that the Mule instance is still running. The notification is sent via a POST request with an empty body to the keeAlive path, as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>POST &lt;callback URL&gt;/keepAlive HTTP/1.1</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-states-and-deployment-status"><a class="anchor" href="#application-states-and-deployment-status"></a>Application States and Deployment Status</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="application-states"><a class="anchor" href="#application-states"></a>Application States</h3>
<div class="paragraph">
<p>Application states represent the different stages in the lifecycle of a Mule application.</p>
</div>
<div class="paragraph">
<p>Valid Application states are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CREATED</code></p>
</li>
<li>
<p><code>INITIALISED</code></p>
</li>
<li>
<p><code>STARTED</code></p>
</li>
<li>
<p><code>STOPPED</code></p>
</li>
<li>
<p><code>DEPLOYMENT_FAILED</code></p>
</li>
<li>
<p><code>DESTROYED</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deployment-status"><a class="anchor" href="#deployment-status"></a>Deployment Status</h3>
<div class="paragraph">
<p>Deployment statuses represent the different steps for successful deployment or undeployment of an application or a domain.</p>
</div>
<div class="paragraph">
<p>Valid deployment statuses are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DEPLOYMENT_STARTED</code></p>
</li>
<li>
<p><code>DEPLOYED</code></p>
</li>
<li>
<p><code>CONTEXT_CREATED</code></p>
</li>
<li>
<p><code>CONTEXT_INITIALISING</code></p>
</li>
<li>
<p><code>CONTEXT_INITIALISED</code></p>
</li>
<li>
<p><code>CONTEXT_STARTING</code></p>
</li>
<li>
<p><code>CONTEXT_STARTED</code></p>
</li>
<li>
<p><code>CONTEXT_CONFIGURED</code></p>
</li>
<li>
<p><code>CONTEXT_STOPPING</code></p>
</li>
<li>
<p><code>CONTEXT_STOPPED</code></p>
</li>
<li>
<p><code>CONTEXT_DISPOSING</code></p>
</li>
<li>
<p><code>CONTEXT_DISPOSED</code></p>
</li>
<li>
<p><code>UNDEPLOYING</code></p>
</li>
<li>
<p><code>UNDEPLOYED</code></p>
</li>
<li>
<p><code>DEPLOYMENT_FAILED</code></p>
</li>
<li>
<p><code>UNDEPLOYMENT_FAILED</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
  </article>
</main>
<footer class="footer"><div class="footer__wrapper">
      <div class="footer__top">
              </div>
      <div class="footer-bottom-wrapper">
        <!--<a href="/" title="Home" rel="home" class="header__logo" id="logo"><img src="/sites/all/themes/muletheme/images/mule_logo.svg" alt="Home" class="header__logo-image" /></a>-->
        <div class="connect-footer">
          <p>Sign up for our Dev newsletter</p>
          <div class="connect-footer">

</div>
  </div>
        <div class="terms-conditions temp">
          <div id="block-menu-menu-footer-bottom-menu" class="block block-menu contextual-links-region first last odd" role="navigation">
            <ul class="menu"><li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/" class="menu__link">MuleSoft.com</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/" class="menu__link">Blog</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/content/terms-service" class="menu__link">Terms</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/privacy-policy" class="menu__link">Privacy</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/contact" class="menu__link">Contact</a></li>
            </ul></div>
                    <div class="default-terms-conditions">
          </div>
          MuleSoft provides a widely used <a href="https://www.mulesoft.com/platform/enterprise-integration">integration platform</a> for connecting SaaS and enterprise applications in the cloud and on-premise. Delivered as a unified integration experience, <a href="https://www.mulesoft.com/platform/saas/cloudhub-ipaas-cloud-based-integration">CloudHub&trade;</a> and <a href="https://www.mulesoft.com/platform/soa/mule-esb-open-source-esb">Mule ESB&trade;</a> (Enterprise Service Bus) are built on proven open source technology for fast and reliable on-premise and cloud integration without vendor lock-in.


        </div>
      </div>
      <div class="footer-end">
        <div class="footer-logo-wrapper">
          <a href="https://developer.mulesoft.com/" class="footer-logo"></a>
        </div>
        <ul class="social-links"><li><a href="https://www.mulesoft.com/lp/contact" target="_blank" class="icon-muletheme-phone"></a></li>
          <li><a href="https://www.linkedin.com/company/mulesoft" target="_blank" class="icon-muletheme-linkedin"></a></li>
          <li><a href="https://twitter.com/muledev" target="_blank" class="icon-muletheme-twitter"></a></li>
          <li><a href="https://www.facebook.com/MuleSoft" target="_blank" class="icon-muletheme-facebook"></a></li>
          <li><a href="mailto:info@mulesoft.com" target="_blank" class="icon-muletheme-email"></a></li>
          <li><a href="https://videos.mulesoft.com/" target="_blank" class="icon-muletheme-youtube"></a></li>
        </ul><p class="copyright"><span>&copy;2017</span> MuleSoft, INC.</p>
      </div>
    </div>
    </footer><script src="../../_theme/scripts/menu.js"></script>
<script src="../../_theme/scripts/highlight.pack.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>
