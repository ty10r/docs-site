<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="">
  <link rel="canonical" href="https://ede65566-docs-migration.github.io/docs-site/anypoint-connector-devkit/3.3/authorizing-your-connector-with-oauth-1.0a.html">
  <link rel="stylesheet" href="../../_theme/stylesheets/theme.css">
  <title>Authorizing your Connector with OAuth 1.0a // MuleSoft Documentation</title>
</head>
<body class="article">
<header class="header" id="header" role="banner"><div class="header__wrapper clearfix">
      <div class="header__logo--primary-nav clearfix">
        <a href="https://docs.mulesoft.com" title="Home" rel="home" class="header__logo" id="logo">
          <img src="../../_theme/images/mulesoft-dev-logo.svg" alt="Home" class="header__logo-image"></a>
          <div class="header__region region region-header">
    <div id="block-system-main-menu" class="block block-menu first last odd" role="navigation">

        <h2 class="block__title block-title">Main Dev Menu</h2>
    
  <ul class="menu"><li class="menu__item is-expanded first expanded"><span class="menu__link">Platform</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/dev/anypoint-studio" title="" class="menu__link">Studio</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/connectors" title="" class="menu__link">Connectors</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/anypoint-exchange" title="" class="menu__link">Exchange</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/design-api" title="" class="menu__link">API Designer</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-developer-portal" title="" class="menu__link">API Portal</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/mule-runtime-engine" title="" class="menu__link">Mule runtime engine</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/dev/api-management" title="" class="menu__link">API Manager</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/dev/reporting-api-analytics" title="" class="menu__link">API Analytics</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><span class="menu__link">Resources</span><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/getting-started/anypoint-platform" class="menu__link">Getting started</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/tutorials-and-howtos" class="menu__link">Tutorials &amp; HowTos</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/webinars-and-videos" title="" class="menu__link">Webinars &amp; Videos</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/workshops" class="menu__link">Online Workshops</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/integration-books-and-resources" class="menu__link">Books &amp; Whitepapers</a></li>
<li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/dev/" class="menu__link">Blog</a></li>
<li class="menu__item is-leaf leaf"><a href="https://docs.mulesoft.com" class="menu__link">Documentation</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://training.mulesoft.com" class="menu__link">Training</a></li>
</ul></li>
<li class="menu__item is-expanded expanded"><a href="https://developer.mulesoft.com/community" class="menu__link">Community</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="http://forum.mulesoft.org/" class="menu__link">Forums</a></li>
<li class="menu__item is-leaf leaf"><a href="https://meetups.mulesoft.com" class="menu__link">Meetups</a></li>
<li class="menu__item is-leaf leaf"><a href="http://s2.developer.mulesoft.com/" class="menu__link">Contributed Content</a></li>
<li class="menu__item is-leaf leaf"><a href="https://s2.developer.mulesoft.com/jobs.html" class="menu__link">Jobs</a></li>
<li class="menu__item is-leaf last leaf"><a href="https://www.mulesoft.org/jira/browse/MULE" class="menu__link">Issue tracker</a></li>
</ul></li>
<li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/champions" class="menu__link">Champions</a></li>
</ul></div>
  </div>
      </div> <!-- header__logo--primary-nav -->
      <div class="header__top-wrapper">
        <div class="header__nav-wrapper">
                      <div class="region region-header-top">
    <div id="block-search-form" class="block block-search first last odd" role="search">

      
  
</div>
  </div>
        </div>
        <div class="top-nav-ctas">
          <a class="icon-muletheme-phone" href="https://mulesoft.com/lp/contact" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-contact');"></a>
          <a href="https://anypoint.mulesoft.com/login/#/signup?apintent=dmc_generic" class="try" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-nav');">Try now</a>
          <a href="https://mulesoft.com/" class="dev" onclick="ga('send', 'event', 'CTA', 'Click', 'dmc-top-mscom');">MuleSoft.com</a>
        </div>
      </div> <!-- header__secondary-nav-search -->
    </div> <!-- header__wrapper -->
    <a href="#sidr" id="open-left" class="closed">
    </a>
  </header><main role="main" class="main-wrapper">
  <div class="navigation-wrapper">
    <nav role="navigation" class="navigation">
      <div class="search">
        <input type="text" placeholder="Search the docs" class="search-input" autocomplete="off" autocorrect="off" autocapitalize="off">
      </div>
      <div class="inner-nav">
          <ul class="nav-lst">
              <li class="nav-itm" data-depth="0" data-state="collapsed">
                  <button class="nav-tgl"></button>
                <a class="nav-lnk" href="index.html">Anypoint Connector Devkit</a>
                  <ul class="nav-lst">
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="mule-devkit.html">Mule DevKit</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="how-the-devkit-works.html">How the DevKit Works</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="creating-message-sources.html">Creating Message Sources</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="your-first-cloud-connector.html">Your First Cloud Connector</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="authorizing-your-connector-with-oauth-1.0a.html">Authorizing your Connector with OAuth 1.0a</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="authorizing-your-connector-with-oauth-2.0.html">Authorizing your Connector with Oauth 2.0</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="configuring-extensions.html">Configuring Extensions</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="creating-transformers.html">Creating Transformers</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="managing-connections.html">Managing Connections</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="nesting-message-processors.html">Nesting Message Processors</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                          <button class="nav-tgl"></button>
                        <a class="nav-lnk" href="inbound-headers.html">Inbound Headers</a>
                          <ul class="nav-lst">
                              <li class="nav-itm" data-depth="2" data-state="collapsed">
                                <a class="nav-lnk" href="invocation-headers.html">Invocation Headers</a>
                              </li>
                          </ul>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="outbound-headers.html">Outbound Headers</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="using-the-cloud-connector-archetype.html">Using the Cloud Connector Archetype</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="injecting-mule-managers.html">Injecting Mule Managers</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="injecting-the-payload.html">Injecting the Payload</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="customizing-mule-studio-integration.html">Customizing Mule Studio integration</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="handling-collections.html">Handling Collections</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="handling-enums.html">Handling Enums</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="pooling-modules.html">Pooling Modules</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="handling-http-callbacks.html">Handling HTTP Callbacks</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="glossary.html">Publish</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="packaging-mule-extensions.html">Packaging Mule Extensions</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="testing-extensions.html">Testing Extensions</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="required-javadoc.html">Required JavaDoc</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="taking-advantage-of-mule-lifecycle.html">Taking Advantage of Mule Lifecycle</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="glossary.html">Glossary</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="../3.3/devkit-error-handling.html">Error Handling</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="writing-extensions-in-eclipse.html">Writing Extensions in Eclipse</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="writing-extensions-in-intellij.html">Writing Extensions in IntelliJ</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="contribute.html">Contribute</a>
                      </li>
                      <li class="nav-itm" data-depth="1" data-state="collapsed">
                        <a class="nav-lnk" href="additional-resources.html">Additional Resources</a>
                      </li>
                  </ul>
              </li>
          </ul>
      </div>
    </nav>
  </div>
  <article class="primary-content">
    <header class="article-header">
      <div class="breadcrumb">
        <strong class="breadcrumb-item">[ Domain Selector Placeholder ]</strong> /
        <span class="breadcrumb-item">Authorizing your Connector with OAuth 1.0a</span>
      </div>
      <div class="edit-on-github">
        <a href="https://github.com/ede65566-docs-migration/anypoint-connector-devkit-docs/edit/v3.2/modules/ROOT/content/authorizing-your-connector-with-oauth-1.0a.adoc" class="edit-on-github-link">Edit on Github</a>
      </div>
    </header>
    <h1>Authorizing your Connector with OAuth 1.0a</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>OAuth (Open Authorization) is an open standard for authorization that enables websites or applications (Consumers) to access Protected Resources from a web service (Service Provider) via an API, without requiring Users to disclose their Service Provider credentials to the Consumers. In other words, OAuth allows users to share their private resources (e.g. photos, videos, contact lists) stored on one site with another site without having to hand out their credentials, typically username and password.</p>
</div>
<div class="paragraph">
<p>For a detailed explanation of how OAuth 1 works go to <a href="http://oauth.net/core/1.0/">OAuth 1 specification</a>.</p>
</div>
<div class="paragraph">
<p>Accessing Protected Resources from within Mule Runtime would require a lot of development effort to handle all the requirements of OAuth 1. So the idea of supporting OAuth 1 from Mule is to facilitate the development of extensions that interact with APIs using OAuth for authentication.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pre-requisites"><a class="anchor" href="#pre-requisites"></a>Pre-requisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use OAuth support make sure that the following dependency is included in the <code>pom.xml</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
       &lt;groupId&gt;oauth.signpost&lt;/groupId&gt;
       &lt;artifactId&gt;signpost-core&lt;/artifactId&gt;
       &lt;version&gt;1.2.1.1&lt;/version&gt;
  &lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-code-oauth-code-annotation"><a class="anchor" href="#the-code-oauth-code-annotation"></a>The <code>@OAuth</code> Annotation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If a Cloud Connector or Module is to take advantage of the OAuth facilities the DevKit provides, the class level annotation <code>@OAuth</code> needs to be present. Some parameters are required and other are optional and probably do not need to be used as they take default values that are suitable for most of the scenarios.</p>
</div>
<div class="paragraph">
<p>The following table describes all the @OAuth parameters:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter <br></th>
<th class="tableblock halign-left valign-top">Description                                  <br></th>
<th class="tableblock halign-left valign-top">Required/Optional <br></th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">messageSigner<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The signature method to be used in<br>
the OAuth 1.0a flow. This method will<br>
be included in the auth_signature_method parameter.<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPTIONAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HMAC_SHA1<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">signingStrategy<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines where the OAuth 1.0a parameters should be included<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPTIONAL<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUTHORIZATION_HEADER<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestTokenUrl<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL defined by the Service Provider used to obtain an un-authorized Request Token<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accessTokenUrl<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL defined by the Service Provider to obtain an Access Token<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authorizationUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL defined by the Service Provider where the Resource Owner will be redirected to grant authorization to the Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verifierRegex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Java regular expression used to extract the verifier from the Service Provider response as a result of the Resource Owner authorizing the Consumer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPTIONAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oauth_verifier=([^&amp;]+)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">callbackPath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In case the Service Provider only accepts a known redirect URL, assign this parameter to the path inside your domain (denoted by the 'fullDomain' environment variable) that will be registered with Service Provider as a redirect URL. If left empty (meaning the Service Provider accepts any URL as redirect URL), a random path will be used</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPTIONAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>random path</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="steps-to-add-oauth-1-support"><a class="anchor" href="#steps-to-add-oauth-1-support"></a>Steps to add OAuth 1 support</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the <code>@OAuth</code> class level annotation:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Module(name = "linkedin")
@OAuth(requestTokenUrl = "https://api.linkedin.com/uas/oauth/requestToken",
        accessTokenUrl = "https://api.linkedin.com/uas/oauth/accessToken",
        authorizationUrl = "https://api.linkedin.com/uas/oauth/authorize")
public class LinkedInConnector {</code></pre>
</div>
</div>
<div class="paragraph">
<p>The values for <code>requestTokenUrl</code>, <code>accessTokenUrl</code> and <code>authorizationUrl</code> can be obtained from the Service Provider documentation.</p>
</div>
</li>
<li>
<p>Create two String instance fields to hold your Consumer Key and Consumer Secret and annotate them with <code>@OAuthConsumerKey</code> and <code>@OAuthConsumerecret</code> respectively. Also annotate them with <code>@Configurable</code> so that anyone using it can pass in their own credentials.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Module(name = "linkedin")
@OAuth(requestTokenUrl = "https://api.linkedin.com/uas/oauth/requestToken",
        accessTokenUrl = "https://api.linkedin.com/uas/oauth/accessToken",
        authorizationUrl = "https://api.linkedin.com/uas/oauth/authorize")
public class LinkedInConnector {
        @Configurable
        @OAuthConsumerKey
        private String apiKey;
        @Configurable
        @OAuthConsumerSecret
        private String apiSecret;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make sure these instance variables have public getters and setters.</p>
</div>
</li>
<li>
<p>In the methods annotated with <code>@Processor</code> that access Protected Resources add two <code>java.lang.String</code> parameters and annotate them with <code>@OAuthAccessToken</code> and <code>@OAuthAccessTokenSecret</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Processor
        public Person getProfileForCurrentUser(@OAuthAccessToken String accessToken,
                                               @OAuthAccessTokenSecret String accessTokenSecret,
                                               @Optional List&lt;ProfileField&gt; profileFields) {</code></pre>
</div>
</div>
<div class="paragraph">
<p>When a method that contains parameters annotated with <code>@OAuthAccessToken</code> and <code>@OAuthAccessTokenSecret</code> is invoked two things can happen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first time a Protected Resource is accessed, the user will be redirected to the authorization url of the Service Provider to grant/deny access for the Consumer to the Protected Resource.</p>
</li>
<li>
<p>Subsequent times a Protected Resource is accessed, the parameters annotated with <code>@OAuthAccessToken</code> and <code>@OAuthAccessTokenSecret</code> will contain the Access Token and Token Secret so that they can be included in the request to the Service Provider as defined by [<a href="http://oauth.net/core/1.0/">OAuth 1 specification</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="authorizing-the-connector"><a class="anchor" href="#authorizing-the-connector"></a>Authorizing the connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before any op that requires authorization can be executed the Resource Owner must grant access to the connector to access the Protected Resource. Upon calling authorize Mule will redirect the Resource Owner&#8217;s browser to the Service Provider authorization page. After that, any subsequent attempts to access a Protected Resource will fill the parameters annotated with <code>@OAuthAccessToken</code> and <code>@OAuthAccessTokenSecret</code> with the access token and token secret so that they can be included in the request to Service Provider as described by the OAuth 1 specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;linkedin:config apiKey="${api.key}" apiSecret="${api.secret}"/&gt;

        &lt;flow name="authorize"&gt;
            &lt;http:inbound-endpoint host="localhost" port="8080" path="/authorize"/&gt;
            &lt;linkedin:authorize/&gt;
        &lt;/flow&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mule-configuration"><a class="anchor" href="#mule-configuration"></a>Mule configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is a sample Mule configuration file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;linkedin:config apiKey="${api.key}" apiSecret="${api.secret}"/&gt;

        &lt;flow name="sampleFlow"&gt;
            &lt;linkedin:get-profile-for-current-user /&gt;
        &lt;/flow&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>First we configure the extension by passing the Consumer Key and Consumer Secret for your application as supplied by the Service Provider.</p>
</div>
<div class="paragraph">
<p>Then there is a simple flow that accesses a Protected Resource. If the connector has not been authorized by OAuth the op will throw a NotAuthorizedException.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-the-callback"><a class="anchor" href="#customizing-the-callback"></a>Customizing the Callback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the user is redirected to the Service Provider authorization page and grants access to the Protected Resource, the Service Provider will make a HTTP callback passing an authorization code that Mule will use later to obtain the Access Token. There is no need to set up anything to handle the HTTP callback since Mule will dynamically create a HTTP inbound endpoint to handle it and this endpoint&#8217;s URL will be passed to the Service Provider. By default Mule will construct a URL to send to the Service Provider using a host and port determined by the environment variables <code>fullDomain</code> and <code>http.port</code>. In case there is a need to use different values for host and port you may add the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;linkedin:config apiKey="${api.key}" apiSecret="${api.secret}"&gt;
       &lt;linkedin:oauth-callback-config domain="SOME_DOMAIN" remotePort="SOME_PORT" /&gt;
   &lt;/linkedin:config&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="ssl"><a class="anchor" href="#ssl"></a>SSL</h3>
<div class="paragraph">
<p>As mentioned previously Mule will automatically launch an inbound endpoint for handling the OAuth callback. The endpoint will use the HTTP connector by default. In case the Service Provider requires HTTPS you can pass in your own connector by reference.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;https:connector name="httpsConnector"&gt;
    &lt;https:tls-key-store path="keystore.jks" keyPassword="mule2012" storePassword="mule2012"/&gt;
&lt;/https:connector&gt;

&lt;linkedin:config apiKey="${api.key}" apiSecret="${api.secret}"&gt;
    &lt;linkedin:oauth-callback-config domain="localhost" localPort="${http.port}"
                                        remotePort="${http.port}" async="true"
                                        connector-ref="httpsConnector"/&gt;
&lt;/linkedin:config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about how to configure an HTTPS connector click <a href="../../mule-runtime/3.2/http-transport-reference.html">here</a>.</p>
</div>
</div>
</div>
</div>
  </article>
</main>
<footer class="footer"><div class="footer__wrapper">
      <div class="footer__top">
              </div>
      <div class="footer-bottom-wrapper">
        <!--<a href="/" title="Home" rel="home" class="header__logo" id="logo"><img src="/sites/all/themes/muletheme/images/mule_logo.svg" alt="Home" class="header__logo-image" /></a>-->
        <div class="connect-footer">
          <p>Sign up for our Dev newsletter</p>
          <div class="connect-footer">

</div>
  </div>
        <div class="terms-conditions temp">
          <div id="block-menu-menu-footer-bottom-menu" class="block block-menu contextual-links-region first last odd" role="navigation">
            <ul class="menu"><li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/" class="menu__link">MuleSoft.com</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://blogs.mulesoft.com/" class="menu__link">Blog</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/content/terms-service" class="menu__link">Terms</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/privacy-policy" class="menu__link">Privacy</a></li>
              <li class="menu__item is-leaf leaf"><a href="https://www.mulesoft.com/contact" class="menu__link">Contact</a></li>
            </ul></div>
                    <div class="default-terms-conditions">
          </div>
          MuleSoft provides a widely used <a href="https://www.mulesoft.com/platform/enterprise-integration">integration platform</a> for connecting SaaS and enterprise applications in the cloud and on-premise. Delivered as a unified integration experience, <a href="https://www.mulesoft.com/platform/saas/cloudhub-ipaas-cloud-based-integration">CloudHub&trade;</a> and <a href="https://www.mulesoft.com/platform/soa/mule-esb-open-source-esb">Mule ESB&trade;</a> (Enterprise Service Bus) are built on proven open source technology for fast and reliable on-premise and cloud integration without vendor lock-in.


        </div>
      </div>
      <div class="footer-end">
        <div class="footer-logo-wrapper">
          <a href="https://developer.mulesoft.com/" class="footer-logo"></a>
        </div>
        <ul class="social-links"><li><a href="https://www.mulesoft.com/lp/contact" target="_blank" class="icon-muletheme-phone"></a></li>
          <li><a href="https://www.linkedin.com/company/mulesoft" target="_blank" class="icon-muletheme-linkedin"></a></li>
          <li><a href="https://twitter.com/muledev" target="_blank" class="icon-muletheme-twitter"></a></li>
          <li><a href="https://www.facebook.com/MuleSoft" target="_blank" class="icon-muletheme-facebook"></a></li>
          <li><a href="mailto:info@mulesoft.com" target="_blank" class="icon-muletheme-email"></a></li>
          <li><a href="https://videos.mulesoft.com/" target="_blank" class="icon-muletheme-youtube"></a></li>
        </ul><p class="copyright"><span>&copy;2017</span> MuleSoft, INC.</p>
      </div>
    </div>
    </footer><script src="../../_theme/scripts/menu.js"></script>
<script src="../../_theme/scripts/highlight.pack.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>
